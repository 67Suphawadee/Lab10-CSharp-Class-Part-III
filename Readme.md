# Property คืออะไร

## นิยามของ Property
Property ใน C# คือสมาชิกของคลาสที่ใช้สำหรับเข้าถึงและแก้ไขข้อมูลของคลาส Property ทำหน้าที่เป็นตัวกลางระหว่าง field (ตัวแปร) ภายในคลาสกับภายนอกคลาส ช่วยให้เราสามารถควบคุมการเข้าถึงและแก้ไขข้อมูลได้อย่างปลอดภัย และยังสามารถเพิ่ม logic เพิ่มเติมในการจัดการข้อมูลได้อีกด้วย

## ความเหมือนและความแตกต่างระหว่าง Property และ Field

Property และ Field มีความเหมือนกันคือมีหน้าที่ในการเก็บข้อมูลของคลาส  แต่ Property มีความสามารถในการควบคุมการเข้าถึงและแก้ไขข้อมูลได้มากกว่า ในขณะที่ Field เป็นตัวแปรที่ใช้เก็บข้อมูลโดยตรง การเลือกใช้ Property หรือ Field ขึ้นอยู่กับความเหมาะสมและความต้องการของโปรแกรมเมอร์

### Field
- Field เป็นตัวแปรที่ประกาศไว้ภายในคลาสใช้สำหรับเก็บข้อมูล เพื่อบ่งบอกสถานะของวัตถุที่สร้างจากคลาส เช่น สีของวัตถุ ความเร็วของรถ  
- โดยทั่วไปแล้ว Field จะเป็น private และถูกป้องกันการเข้าถึงโดยตรงจากภายนอกคลาส 
- การเข้าถึง Field โดยตรงจากภายนอกคลาสอาจทำให้เกิดปัญหาได้ เช่น 
    - การกำหนดค่าที่ไม่ถูกต้อง 
    - การเข้าถึงข้อมูลที่ไม่ควรอนุญาต

### Property
- Property เป็นส่วนหนึ่งของคลาส (Class) ใช้สำหรับเก็บข้อมูลและสามารถกำหนดคุณสมบัติในการเข้าถึงได้ เช่น การอ่าน (read) การเขียน (write) หรือทั้งสองอย่าง 
- สามารถกำหนด Getter และ Setter เพื่อควบคุมการเข้าถึงและแก้ไขข้อมูลได้ 
- สามารถ สามารถรันคำสั่ง (statements) ภายใน properties ได้เช่นเดียวกับ method 
- Property ทำหน้าที่เป็นตัวกลางในการเข้าถึง Field ช่วยให้เราสามารถกำหนดกฎเกณฑ์ในการเข้าถึง Field ได้  เช่น
    - การตรวจสอบค่าที่กำหนดให้ Field การแปลงค่าก่อนการส่งกลับ 
    - การป้องกันการเข้าถึง Field โดยไม่ได้รับอนุญาต

### รูปแบบในการประกาศ property

การประกาศ property มีความซับซ้อนมากกว่า field แต่ก็จะได้สิ่งที่มีความสามารถเพิ่มขึ้นเช่นกัน

```csharp
[modifiers] type property_name
{
    get
    {
        // โค้ดสำหรับอ่านค่า property
        return value;
    }
    set
    {
        // โค้ดสำหรับกำหนดค่า property
        value = value;
    }
}
```

จากโครงสร้างข้างบน 

__modifiers__ คือ  ตัวระบุการเข้าถึง (เช่น public, private, protected)

__type__ ชนิดข้อมูลของ property

__property_name__ ชื่อของ property

__get__ ตัวเข้าถึงสำหรับอ่านค่า property

__set__ ตัวเข้าถึงสำหรับกำหนดค่า property

### สมาชิกของ property

- ใน properties สามารถมีสมาชิกได้เพียงแค่ 2 อย่างเท่านั้น 
    - เรียกว่า accessor ประกอบด้วย getter  และ setter มีชื่อเป็น { get และ set }
- ไม่สามารถมี method ชื่ออื่น ๆ อยู่ใน properties
- { get และ set } ไม่บังคับการเรียงลำดับก่อน-หลัง
    - อาจจะมีทั้งคู่หรืออย่างใดอย่างหนึ่ง ขึ้นอยู่กับความต้องการให้เขียนอ่าน เชียนอย่างเดียว หรืออ่านอย่างเดียว

### ข้อควรระวังในการใช้ property
- เมธอด get จะต้องมีคำสั่ง return ในทุกๆ เส้นทาง
    - เช่น if, else, ฯลฯ ที่เป็นเหตุให้การดำเนินการไม่เป็นไปตามปกติ
    - ถ้าเขียนโปรแกรมโดยไม่มีเส้นทางการ return ครบทุกเล้นทาง จะได้รับคำเคือนหรือ error จาก compiler
    